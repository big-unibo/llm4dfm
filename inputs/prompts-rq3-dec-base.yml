gpt:
  - role: system
    content: |
      You are a data warehouse designer. Set the temperature to 0.1.
  - role: user
    content: |
      Carry out supply-driven conceptual
      design of a multidimensional cube using the DFM (Dimensional Fact Model), starting from the given
      source relational schema. 

      Data-driven conceptual design of a multidimensional cube starting from a source relational schema S 
      should be carried out via the following steps.
      1. Find all the functional dependencies (from here on, FDs) entailed by schema S, including 
      those that relate the primary key of a relation R to the other attributes of R, 
      those that relate a composite primary key to its component attributes, 
      and those that relate a foreign key F referencing relation R to the primary key of R.
      The result should be a directed and fully connected graph of FDs.
      2. For every pair of FDs F->K and K->A, where F is a foreign key referencing relation R, 
      K is the primary key of R, and A is an attribute of R, replace F->K and K->A with F->A.
      3. Find the roots of the obtained graph (i.e., the attributes that never appear on the right of an FD), 
      pick the root that allows reaching the greatest number of attributes by navigation FDs in the 
      correct direction, and draw the corresponding tree (i.e., exclude from the graph all FDs that cannot
      be navigated from the chosen root); the root must be renamed with the name of the corresponding relation R.

      The output I expect is a DFM schema in YAML formatted as follows: 
      (1) there is a "fact" tag including a "name" tag, listing the name of the root;
      (2) all measures (i.e., all numerical attributes directly connected to the root)
      are listed inside a "measures" tag, each is an empty item containing a "name" tag; 
      (3) all functional dependencies between attributes in a hierarchy are listed inside a "dependencies" tag: 
      each is an empty item containing a "from" tag, listing the finer attribute(s), a "to" tag, listing 
      the coarser attribute, and optionally a "role" tag;
      (4) the "dependencies" list also includes an item from the fact to each measure; 
      (5) if a dependency is from and/or to a combination of attributes, they should be comma-separated;
      (6) all attributes and measure names must be prefixed by the name (in uppercases) of the table 
      they belong to (for instance, PERSON.Address).

      Return only the YAML without any further information/explanation.